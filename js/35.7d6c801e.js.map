{"version":3,"file":"js/35.7d6c801e.js","mappings":"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","sources":["webpack://@radiantearth/stac-browser/./src/components/QueryableInput.vue","webpack://@radiantearth/stac-browser/src/components/QueryableInput.vue","webpack://@radiantearth/stac-browser/./src/components/QueryableInput.vue?effb","webpack://@radiantearth/stac-browser/./src/components/QueryableInput.vue?f5d7"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"queryable-group\"},[_c('b-row',{staticClass:\"queryable-row\"},[_c('span',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),(_vm.operatorOptions !== null)?_c('b-form-select',{staticClass:\"op\",attrs:{\"size\":\"sm\",\"value\":_vm.operator,\"options\":_vm.operatorOptions},on:{\"input\":function($event){return _vm.updateOperator($event)}}}):_vm._e(),(_vm.queryableType === 'selectField')?_c('b-form-select',{staticClass:\"value\",attrs:{\"options\":_vm.queryableOptions,\"size\":\"sm\",\"value\":_vm.value},on:{\"input\":function($event){return _vm.updateValue($event)}}}):(_vm.queryableType === 'textField')?_c('b-form-input',{staticClass:\"value\",attrs:{\"size\":\"sm\",\"value\":_vm.value},on:{\"input\":function($event){return _vm.updateValue($event)}}}):(_vm.queryableType === 'numberField')?_c('b-form-input',{staticClass:\"value\",attrs:{\"number\":\"\",\"type\":\"number\",\"size\":\"sm\",\"value\":_vm.value},on:{\"input\":function($event){return _vm.updateValue($event)}}}):(_vm.queryableType === 'dateField')?_c('date-picker',{staticClass:\"value\",attrs:{\"type\":\"datetime\",\"value\":_vm.value},on:{\"input\":function($event){return _vm.updateValue($event)}}}):_vm._e(),_c('b-button',{staticClass:\"delete\",attrs:{\"size\":\"sm\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.$emit('remove-queryable')}}},[_c('b-icon-x-circle-fill',{attrs:{\"aria-hidden\":\"true\"}})],1)],1),(_vm.help)?_c('b-row',{staticClass:\"queryable-help\"},[_c('small',{staticClass:\"text-muted\",domProps:{\"innerHTML\":_vm._s(_vm.help)}})]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"queryable-group\">\n    <b-row class=\"queryable-row\">\n      <span class=\"title\">\n        {{ title }}\n      </span>\n\n      <b-form-select\n        v-if=\"operatorOptions !== null\"\n        size=\"sm\"\n        class=\"op\"\n        :value=\"operator\"\n        @input=\"updateOperator($event)\"\n        :options=\"operatorOptions\" \n      />\n\n      <b-form-select\n        v-if=\"queryableType === 'selectField'\"\n        :options=\"queryableOptions\"\n        size=\"sm\"\n        class=\"value\"\n        :value=\"value\"\n        @input=\"updateValue($event)\"\n      />\n      <b-form-input\n        v-else-if=\"queryableType === 'textField'\"\n        size=\"sm\"\n        class=\"value\"\n        :value=\"value\"\n        @input=\"updateValue($event)\"\n      />\n      <b-form-input\n        v-else-if=\"queryableType === 'numberField'\"\n        number\n        type=\"number\"\n        size=\"sm\"\n        class=\"value\"\n        :value=\"value\"\n        @input=\"updateValue($event)\"\n      />\n      <date-picker\n        v-else-if=\"queryableType === 'dateField'\"\n        type=\"datetime\"\n        class=\"value\"\n        :value=\"value\"\n        @input=\"updateValue($event)\"\n      />\n\n      <b-button class=\"delete\" size=\"sm\" variant=\"danger\" @click=\"$emit('remove-queryable')\">\n        <b-icon-x-circle-fill aria-hidden=\"true\" />\n      </b-button>\n    </b-row>\n\n    <b-row v-if=\"help\" class=\"queryable-help\">\n      <small class=\"text-muted\" v-html=\"help\" />\n    </b-row>\n  </div>\n</template>\n\n<script>\nimport Utils from '../utils';\nimport { BFormInput, BFormSelect, BIconXCircleFill } from 'bootstrap-vue';\n    \nexport default {\n  name: 'QueryableInput',\n  components: {\n    BFormInput,\n    BFormSelect,\n    BIconXCircleFill,\n    DatePicker: () => import('vue2-datepicker')\n  },\n  props: {\n    title: {\n      type: String,\n      required: true\n    },\n    // eslint-disable-next-line vue/require-prop-types\n    value: {\n      // Any type is allowed\n      default: null\n    },\n    operator: {\n      type: String,\n      default: null\n    },\n    schema: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  computed: {\n    schemaTypes() {\n      if (typeof this.schema.type === 'string') {\n        return [this.schema.type];\n      }\n      else if (Array.isArray(this.schema.type)) {\n        return this.schema.type;\n      }\n      return [];\n    },\n    isNumeric() {\n      return this.schemaTypes.includes('number') || this.schemaTypes.includes('integer');\n    },\n    help() {\n      if (this.operator === 'LIKE') {\n        return 'You can use wildcard characters. <code>_</code> matches a single character, <code>%</code> matches any number of characters. To search for a wildcard character specifically, you need to add a <code>\\\\</code> in front of the character.';\n      }\n      else if (this.queryableType === 'dateField') {\n        return 'All times in UTC.';\n      }\n      return null;\n    },\n    queryableType() {\n      if ('enum' in this.schema) {\n        return 'selectField';\n      }\n      else if (this.isNumeric) {\n        return 'numberField';\n      }\n      else if (this.schemaTypes.includes('string')) {\n        if (this.schema.format === 'date-time') {\n          return 'dateField';\n        }\n        else {\n          return 'textField';\n        }\n      }\n      return null;\n    },\n    operatorOptions() {\n      const LESS_THAN = {text: 'less than', value: '<'};\n      const MORE_THAN = {text: 'greater than', value: '>'};\n      const EQUALS = {text: 'equal to', value: '='};\n      const NOT_EQUALS = {text: 'not equal to', value: '<>'};\n      const LIKE = {text: 'matches', value: 'LIKE'};\n\n      if (this.isNumeric || this.queryableType === 'dateField') {\n        return [LESS_THAN, MORE_THAN, EQUALS, NOT_EQUALS];\n        }\n      else if (this.queryableType === 'textField') {\n        return [EQUALS, NOT_EQUALS, LIKE];\n      }\n      else {\n        return [EQUALS, NOT_EQUALS];\n      }\n    },\n    queryableOptions() {\n      if (this.queryableType !== 'selectField') {\n        return [];\n      }\n      else {\n        return this.schema.enum.map((option) => {\n          if (typeof option === 'string') {\n            return {\n              value: option,\n              text: option\n            };\n          }\n          else {\n            return option;\n          }\n        });\n      }\n    },\n    selectedOperator() {\n      if (this.operatorOptions === null) {\n        return null;\n      }\n      return this.operatorOptions.find(o => o.value === this.operator);\n    }\n  },\n  mounted() {\n    if (this.operator === null) {\n      this.queryableVisible = true;\n    }\n    if (this.operator === null) {\n      this.updateOperator(this.operatorOptions[0].value);\n    }\n    if (this.value === null) {\n      this.updateValue(this.calculateDefaultValue());\n    }\n  },\n  methods: {\n    updateValue(evt) {\n      let val = Utils.isObject(evt) && 'target' in evt ? evt.target.value : evt;\n      this.$emit('update:value', val);\n    },\n    updateOperator(evt) {\n      let val = Utils.isObject(evt) && 'target' in evt ? evt.target.value : evt;\n      this.$emit('update:operator', val);\n    },\n    calculateDefaultValue() {\n      if (typeof this.schema.default !== 'undefined') {\n        return this.schema.default;\n      }\n      else if (this.queryableType === 'textField') {\n        return '';\n      }\n      else if (this.queryableType === 'dateField') {\n        return new Date();\n      }\n      else if (this.queryableType === 'numberField') {\n        if (typeof this.schema.minimum !== 'undefined') {\n         return this.schema.minimum;\n        }\n        return 0;\n      }\n      else if (this.queryableType === 'selectField') {\n        return this.queryableOptions[0].value;\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import '~bootstrap/scss/mixins';\n@import \"../theme/variables.scss\";\n\n.queryable-row {\n  margin: 0.25em 0;\n  gap: 0.5em;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  align-content: center;\n\n  .op {\n    width: 8rem;\n  }\n  .delete {\n    width: auto;\n  }\n  .title, .value {\n    flex-grow: 4;\n    width: 8rem !important;\n  }\n}\n\n.queryable-help {\n  display: block;\n  margin: 0.25em 0 1em 0;\n  line-height: 1.1em;\n}\n\n.queryable-group {\n  margin: 0.75em 0;\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./QueryableInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./QueryableInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QueryableInput.vue?vue&type=template&id=376e79dd&\"\nimport script from \"./QueryableInput.vue?vue&type=script&lang=js&\"\nexport * from \"./QueryableInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./QueryableInput.vue?vue&type=style&index=0&id=376e79dd&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","title","operatorOptions","attrs","operator","on","$event","updateOperator","_e","queryableType","queryableOptions","value","updateValue","$emit","help","domProps","staticRenderFns","name","components","BFormInput","BFormSelect","BIconXCircleFill","DatePicker","props","type","required","default","schema","computed","schemaTypes","isNumeric","text","selectedOperator","mounted","methods","calculateDefaultValue","component"],"sourceRoot":""}